{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/login/login.ts","../../src/pages/tabs/tabs.ts","../../src/pages/coze/coze.ts","../../src/pages/friends/friends.ts","../../src/pages/settings/settings.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/pages/home/home.ts","../../src/app/firebase.credentials.ts"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACV0C;AACe;AAEL;AACb;AACvC;;;;;GAKG;AAMH;IAIE,mBAAoB,MAAuB,EAClC,OAAsB,EAAS,SAAoB;QADxC,WAAM,GAAN,MAAM,CAAiB;QAClC,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAF5D,SAAI,GAAG,EAAU,CAAC;IAGlB,CAAC;IAEK,yBAAK,GAAX,UAAY,IAAU;;;;;;;wBAEH,qBAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC;;wBAArF,MAAM,GAAG,SAA4E;wBAC3F,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;4BACX,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,4DAAQ,CAAC,CAAC;wBACjC,CAAC;;;;wBAGD,OAAO,CAAC,KAAK,CAAC,GAAC,CAAC,CAAC;;;;;;KAEpB;IAEK,4BAAQ,GAAd,UAAe,IAAU;;;;;;;6BAEjB,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,EAA5B,wBAA4B;wBAC9B,IAAI,CAAC,UAAU,GAAG,8CAA8C,CAAC;;4BAElD,qBAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,8BAA8B,CAClE,IAAI,CAAC,KAAK,EACV,IAAI,CAAC,QAAQ,CACd;;wBAHK,MAAM,GAAG,SAGd;wBACD,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;4BACX,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,4DAAQ,CAAC,CAAC;wBACjC,CAAC;;;;;wBAGH,OAAO,CAAC,KAAK,CAAC,GAAC,CAAC,CAAC;;;;;;KAEpB;IAED,kCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;IAC1C,CAAC;IAxCU,SAAS;QAJrB,wEAAS,CAAC;YACT,QAAQ,EAAE,YAAY;WACG;SAC1B,CAAC;oJAK2C;YACzB,MAA0C;OALjD,SAAS,CA0CrB;IAAD,CAAC;AAAA;SA1CY,SAAS,e;;;;;;;;;;;;;;;;;;;;;;AChBoB;AACF;AACS;AACG;AAMpD;IAME;QAJA,aAAQ,GAAG,4DAAQ,CAAC;QACpB,aAAQ,GAAG,qEAAW,CAAC;QACvB,aAAQ,GAAG,wEAAY,CAAC;IAIxB,CAAC;IARU,QAAQ;QAJpB,wEAAS,CAAC;YACT,QAAQ,EAAE,UAAU;WACI;SACzB,CAAC;;OACW,QAAQ,CASpB;IAAD,CAAC;AAAA;SATY,QAAQ,e;;;;;;;;;;;;;;;;;;;;;ACTqB;AACI;AACW;AAQzD;IA0BE,kBAAmB,OAAsB,EAAS,WAAwB;QAAvD,YAAO,GAAP,OAAO,CAAe;QAAS,gBAAW,GAAX,WAAW,CAAa;QAtB1E,kEAAkE;QAClE,eAAU,GAAM,CAAC,CAAC;QAGlB,iBAAY,GAAM,EAAE,CAAC;QAQrB,oBAAe,GAAY,IAAI,CAAC;QAChC,gBAAW,GAAY,IAAI,CAAC;QAI5B,mBAAc,GAAG,CAAC,CAAC;QAMjB,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,UAAU,EAAE,iBAAiB,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;YAChF,OAAO,CAAC,GAAG,CAAC,KAAK,EAAC,IAAI,CAAC;QACzB,CAAC,EAAE,UAAC,GAAG;YACL,OAAO,CAAC,GAAG,CAAC,KAAK,EAAC,GAAG,CAAC;QACxB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,mCAAgB,GAAhB;QAAA,iBASC;QARC,uBAAuB;QACvB,MAAM,CAAC,IAAI,CAAC;YACV,MAAM,EAAE,kCAAkC;YAC1C,iBAAiB;YACjB,OAAO,EAAE,UAAC,CAAC;gBACT,KAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC;YAC9B,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,sCAAmB,GAAnB,UAAoB,CAAC;QACnB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC;QACvC,4BAA4B;QAC5B,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,sBAAsB,EAAE,CAAC;IAChC,CAAC;IAED,yCAAsB,GAAtB;QACE,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,OAAO,CAAC,kBAAkB,CAAC;YACpD,MAAM,EAAE,QAAQ,CAAC,WAAW;SAC7B,CAAC,CAAC;QACH;;kEAE0D;IAC5D,CAAC;IAED,qCAAkB,GAAlB;QACE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC1B,CAAC;IAED,oDAAiC,GAAjC;QACE,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;YAC1C,OAAO,CAAC,GAAG,CAAC,MAAM,EAAC,IAAI,CAAC;QAC1B,CAAC,EAAE,UAAC,GAAG;YACL,OAAO,CAAC,GAAG,CAAC,KAAK,EAAC,GAAG,CAAC;QACxB,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,8CAA2B,GAA3B;QACE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC1B,CAAC;IAED,yCAAsB,GAAtB;QACE,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;IACxB,CAAC;IAED,yCAAsB,GAAtB;QACE,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACvB,CAAC;IAED,sCAAmB,GAAnB,UAAoB,MAAM;QACxB,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,MAAM,EAAE,UAAU,GAAG,MAAM,CAAC,CAAC;QACpE,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,QAAQ,EAAE,YAAY,GAAG,MAAM,CAAC,CAAC;IAC1E,CAAC;IAED,iCAAc,GAAd,UAAe,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,KAAK;QAC9D,IAAI,QAAQ,GAAG,IAAI,CAAC;QACpB,IAAI,UAAU,GAAG,IAAI,CAAC;QAEtB,EAAE,CAAC,CAAC,QAAQ,KAAK,OAAO,CAAC,CAAC,CAAC;YACzB,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC7C,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC7C,CAAC;QAED,QAAQ,CAAC,EAAE,GAAG,UAAU,CAAC;QACzB,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC;QACzB,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;QACvB,QAAQ,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;QACnC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;QAErC,UAAU,GAAG,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QAC5C,UAAU,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAEjC,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IACxD,CAAC;IAED,oCAAiB,GAAjB;QAAA,iBAoDC;QAnDC,MAAM,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,UAAC,CAAC;YAC5C,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YAExB,KAAI,CAAC,YAAY,CAAC,cAAc,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,EAAE,MAAM,EAAE,UAAU,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE;gBACzG,KAAK,EAAE,OAAO;gBACd,MAAM,EAAE,MAAM;aACf,EAAE,IAAI,CAAC,CAAC;QAEX,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,gBAAgB,CAAC,gBAAgB,EAAE,UAAC,CAAC;YAC1C,KAAI,CAAC,2BAA2B,EAAE,CAAC;YAEnC,KAAI,CAAC,MAAM,GAAG,KAAI,CAAC,MAAM,GAAG,+CAA+C,GAAG,CAAC,CAAC;QAClF,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,gBAAgB,CAAC,cAAc,EAAE,UAAC,CAAC;YACxC,4CAA4C;YAC5C,KAAI,CAAC,cAAc,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;YACtC,KAAI,CAAC,UAAU,CAAC,KAAI,CAAC,cAAc,CAAC,CAAC;YACrC,KAAI,CAAC,cAAc,EAAE,CAAC;QACxB,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,UAAC,CAAC;YAClC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,mBAAmB,KAAK,IAAI,CAAC,CAAC,CAAC;gBAC1C,KAAI,CAAC,2BAA2B,EAAE,CAAC;YACrC,CAAC;YACD,KAAI,CAAC,MAAM,GAAG,KAAI,CAAC,MAAM,GAAG,uEAAuE,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;YACtH,KAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAC5C,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,gBAAgB,CAAC,mBAAmB,EAAE,UAAC,CAAC;YAC7C,KAAI,CAAC,YAAY,CAAC,cAAc,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,EAAE,QAAQ,EAAE,YAAY,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE;gBAC7G,KAAK,EAAE,OAAO;gBACd,MAAM,EAAE,OAAO;aAChB,EAAE,KAAK,CAAC,CAAC;QACZ,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,gBAAgB,CAAC,qBAAqB,EAAE,UAAC,CAAC;YAC/C,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;YACrC,KAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;YAC9C,KAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;YACzC,KAAI,CAAC,YAAY,CAAC,2BAA2B,CAAC,IAAI,CAAC,CAAC;YAEpD;6CACiC;YAEjC,0BAA0B;QAC5B,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,2BAAQ,GAAR,UAAS,QAAQ;QACf,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC9C,EAAE,CAAC,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC;YACnB,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC;YAC7B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACzB,CAAC;IACH,CAAC;IAED,yBAAM,GAAN;QACE,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IAChD,CAAC;IAED,6BAAU,GAAV,UAAW,cAAc;QACvB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;QAC7C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,cAAK,CAAC,EAAC,cAAK,CAAC,CAAC,CAAC;QAEtD,IAAI,CAAC,sBAAsB,EAAE,CAAC;IAChC,CAAC;IAED,6BAAU,GAAV,UAAW,cAAc;QACvB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;QAC7C,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9B,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,CAAC;IAC3C,CAAC;IAED,iCAAc,GAAd;QAAA,iBAkBG;QAjBC,IAAI,CAAC,SAAS,GAAG,UAAU,CAAC,WAAC;YAEvB,EAAE,CAAC,CAAC,KAAI,CAAC,UAAU,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7B,KAAI,CAAC,UAAU,IAAI,CAAC,CAAC;YAErB,EAAE,CAAC,CAAC,KAAI,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC;gBACxB,KAAI,CAAC,YAAY,GAAG,KAAK,CAAC;gBAC1B,KAAI,CAAC,cAAc,EAAE,CAAC;YACxB,CAAC;YAED,IAAI,CAAC,CAAC;gBACF,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YAC7B,CAAC;QAEL,CAAC,EAAE,IAAI,CAAC,CAAC;IAGb,CAAC;IAEH,iCAAc,GAAd;QAAA,iBAYC;QAXC,IAAI,CAAC,SAAS,GAAG,UAAU,CAAC,WAAC;YAE3B,EAAE,CAAC,CAAC,KAAI,CAAC,YAAY,IAAI,CAAC,CAAC,CAAC,CAAC,EAAC;YAC9B,KAAI,CAAC,YAAY,IAAI,CAAC,CAAC;YAEvB,EAAE,CAAC,CAAC,KAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC1B,KAAI,CAAC,MAAM,EAAE,CAAC;gBACd,oEAAoE;gBACpE,KAAI,CAAC,UAAU,GAAG,CAAC;YACrB,CAAC;QACH,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAnPU,QAAQ;QAJpB,wEAAS,CAAC;YACT,QAAQ,EAAE,WAAW;WACG;SACzB,CAAC;iBA2B0E;OA1B/D,QAAQ,CAqPpB;IAAD,CAAC;AAAA;SArPY,QAAQ,e;;;;;;;;;;;;;;;;;;;;ACVqB;AACI;AAM9C;IAEE,qBAAmB,OAAsB;QAAtB,YAAO,GAAP,OAAO,CAAe;IAEzC,CAAC;IAJU,WAAW;QAJvB,wEAAS,CAAC;YACT,QAAQ,EAAE,cAAc;WACG;SAC5B,CAAC;oBAGyC;OAF9B,WAAW,CAMvB;IAAD,CAAC;AAAA;SANY,WAAW,e;;;;;;;;;;;;;;;;;;;;ACPkB;AACI;AAM9C;IAEE,sBAAmB,OAAsB;QAAtB,YAAO,GAAP,OAAO,CAAe;IAEzC,CAAC;IAJU,YAAY;QAJxB,wEAAS,CAAC;YACT,QAAQ,EAAE,eAAe;WACG;SAC7B,CAAC;qBAGyC;OAF9B,YAAY,CAMxB;IAAD,CAAC;AAAA;SANY,YAAY,e;;;;;;;;;;;ACPkD;AAElC;AAEzC,yGAAsB,EAAE,CAAC,eAAe,CAAC,8DAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJG;AACG;AACe;AACjC;AAEM;AACS;AACG;AACZ;AACG;AAEjD,4CAA4C;AACE;AAEO;AACM;AAEF;AAER;AACS;AACQ;AAEJ;AAyC9D;IAAA;IAAwB,CAAC;IAAZ,SAAS;QAvCrB,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,6DAAK;gBACL,kEAAQ;gBACR,2EAAW;gBACX,8EAAY;gBACZ,kEAAQ;gBACR,qEAAS;gBACT,kEAAQ;aACT;YACD,OAAO,EAAE;gBACP,gFAAa;gBACb,kEAAW,CAAC,OAAO,CAAC,6DAAK,EAAE,EAAE,EACjC;oBACE,KAAK,EAAE,EAEN;iBACF,CAAC;gBACE,wEAAiB,CAAC,aAAa,CAAC,oFAAoB,CAAC;gBACrD,iFAAqB;gBACrB,yFAAyB;aAC1B;YACD,SAAS,EAAE,CAAC,+DAAQ,CAAC;YACrB,eAAe,EAAE;gBACf,6DAAK;gBACL,kEAAQ;gBACR,2EAAW;gBACX,8EAAY;gBACZ,kEAAQ;gBACR,qEAAS;gBACT,kEAAQ;aACT;YACD,SAAS,EAAE;gBACT,gFAAW;gBACX,4EAAS;gBACT,kFAAY;gBACZ,EAAC,OAAO,EAAE,mEAAY,EAAE,QAAQ,EAAE,wEAAiB,EAAC;aACrD;SACF,CAAC;OACW,SAAS,CAAG;IAAD,gBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;AChEoB;AACD;AACY;AACM;AAE3D,iDAAiD;AACA;AAEjD,kFAAkF;AAClF,iDAAiD;AAKjD;IAGE,4DAA4D;IAC5D,0BAA0B;IAE1B,eAAY,QAAkB,EAAE,SAAoB,EAAE,YAA0B;QALhF,aAAQ,GAAO,qEAAS,CAAC;QAMvB,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;YACpB,gEAAgE;YAChE,iEAAiE;YACjE,SAAS,CAAC,YAAY,EAAE,CAAC;YACzB,YAAY,CAAC,IAAI,EAAE,CAAC;QACtB,CAAC,CAAC,CAAC;IACL,CAAC;IAbU,KAAK;QAHjB,wEAAS,CAAC;WACc;SACxB,CAAC;cAOgF;OANrE,KAAK,CAcjB;IAAD,CAAC;AAAA;SAdY,KAAK,2B;;;;;;;;;;;;;;;;;;;;;ACdwB;AACI;AACW;AAQzD;IAgBE,kBAAmB,OAAsB,EAAS,WAAwB;QAAvD,YAAO,GAAP,OAAO,CAAe;QAAS,gBAAW,GAAX,WAAW,CAAa;QAV1E,oBAAe,GAAY,IAAI,CAAC;QAChC,gBAAW,GAAY,IAAI,CAAC;QAI5B,mBAAc,GAAG,CAAC,CAAC;QAMjB,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,UAAU,EAAE,iBAAiB,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;YAChF,OAAO,CAAC,GAAG,CAAC,KAAK,EAAC,IAAI,CAAC;QACzB,CAAC,EAAE,UAAC,GAAG;YACL,OAAO,CAAC,GAAG,CAAC,KAAK,EAAC,GAAG,CAAC;QACxB,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,mCAAgB,GAAhB;QAAA,iBASC;QARC,uBAAuB;QACvB,MAAM,CAAC,IAAI,CAAC;YACV,MAAM,EAAE,kCAAkC;YAC1C,iBAAiB;YACjB,OAAO,EAAE,UAAC,CAAC;gBACT,KAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC;YAC9B,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,sCAAmB,GAAnB,UAAoB,CAAC;QACnB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC;QACvC,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,sBAAsB,EAAE,CAAC;IAChC,CAAC;IAED,yCAAsB,GAAtB;QACE,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,OAAO,CAAC,kBAAkB,CAAC;YACpD,MAAM,EAAE,QAAQ,CAAC,WAAW;SAC7B,CAAC,CAAC;QACH;;kEAE0D;IAC5D,CAAC;IAED,qCAAkB,GAAlB;QACE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC1B,CAAC;IAED,oDAAiC,GAAjC;QACE,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;YAC1C,OAAO,CAAC,GAAG,CAAC,MAAM,EAAC,IAAI,CAAC;QAC1B,CAAC,EAAE,UAAC,GAAG;YACL,OAAO,CAAC,GAAG,CAAC,KAAK,EAAC,GAAG,CAAC;QACxB,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,8CAA2B,GAA3B;QACE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC1B,CAAC;IAED,yCAAsB,GAAtB;QACE,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;IACxB,CAAC;IAED,yCAAsB,GAAtB;QACE,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACvB,CAAC;IAED,sCAAmB,GAAnB,UAAoB,MAAM;QACxB,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,MAAM,EAAE,UAAU,GAAG,MAAM,CAAC,CAAC;QACpE,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,QAAQ,EAAE,YAAY,GAAG,MAAM,CAAC,CAAC;IAC1E,CAAC;IAED,iCAAc,GAAd,UAAe,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,KAAK;QAC9D,IAAI,QAAQ,GAAG,IAAI,CAAC;QACpB,IAAI,UAAU,GAAG,IAAI,CAAC;QAEtB,EAAE,CAAC,CAAC,QAAQ,KAAK,OAAO,CAAC,CAAC,CAAC;YACzB,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC7C,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC7C,CAAC;QAED,QAAQ,CAAC,EAAE,GAAG,UAAU,CAAC;QACzB,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC;QACzB,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;QACvB,QAAQ,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;QACnC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;QAErC,UAAU,GAAG,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QAC5C,UAAU,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAEjC,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IACxD,CAAC;IAED,oCAAiB,GAAjB;QAAA,iBAkDC;QAjDC,MAAM,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,UAAC,CAAC;YAC5C,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YAExB,KAAI,CAAC,YAAY,CAAC,cAAc,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,EAAE,MAAM,EAAE,UAAU,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE;gBACzG,KAAK,EAAE,OAAO;gBACd,MAAM,EAAE,MAAM;aACf,EAAE,IAAI,CAAC,CAAC;QAEX,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,gBAAgB,CAAC,gBAAgB,EAAE,UAAC,CAAC;YAC1C,KAAI,CAAC,2BAA2B,EAAE,CAAC;YAEnC,KAAI,CAAC,MAAM,GAAG,KAAI,CAAC,MAAM,GAAG,+CAA+C,GAAG,CAAC,CAAC;QAClF,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,gBAAgB,CAAC,cAAc,EAAE,UAAC,CAAC;YACxC,KAAI,CAAC,iCAAiC,EAAE,CAAC;YACzC,KAAI,CAAC,cAAc,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;QACxC,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,UAAC,CAAC;YAClC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,mBAAmB,KAAK,IAAI,CAAC,CAAC,CAAC;gBAC1C,KAAI,CAAC,2BAA2B,EAAE,CAAC;YACrC,CAAC;YACD,KAAI,CAAC,MAAM,GAAG,KAAI,CAAC,MAAM,GAAG,uEAAuE,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;YACtH,KAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAC5C,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,gBAAgB,CAAC,mBAAmB,EAAE,UAAC,CAAC;YAC7C,KAAI,CAAC,YAAY,CAAC,cAAc,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,EAAE,QAAQ,EAAE,YAAY,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE;gBAC7G,KAAK,EAAE,OAAO;gBACd,MAAM,EAAE,OAAO;aAChB,EAAE,KAAK,CAAC,CAAC;QACZ,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,gBAAgB,CAAC,qBAAqB,EAAE,UAAC,CAAC;YAC/C,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;YACrC,KAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;YAC9C,KAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;YACzC,KAAI,CAAC,YAAY,CAAC,2BAA2B,CAAC,IAAI,CAAC,CAAC;YAEpD;6CACiC;YAEjC,0BAA0B;QAC5B,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,2BAAQ,GAAR,UAAS,QAAQ;QACf,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC9C,EAAE,CAAC,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC;YACnB,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC;YAC7B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACzB,CAAC;IACH,CAAC;IAED,yBAAM,GAAN;QACE,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IAChD,CAAC;IAED,6BAAU,GAAV,UAAW,cAAc;QACvB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;QAC7C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,cAAK,CAAC,EAAC,cAAK,CAAC,CAAC,CAAC;QAEtD,IAAI,CAAC,sBAAsB,EAAE,CAAC;IAChC,CAAC;IAED,6BAAU,GAAV,UAAW,cAAc;QACvB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;QAC7C,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9B,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,CAAC;IAC3C,CAAC;IApMU,QAAQ;QAJpB,wEAAS,CAAC;YACT,QAAQ,EAAE,WAAW;WACG;SACzB,CAAC;iBAiB0E;OAhB/D,QAAQ,CAsMpB;IAAD,CAAC;AAAA;SAtMY,QAAQ,e;;;;;;;;;ACVd,IAAM,oBAAoB,GAAG;IAClC,MAAM,EAAE,yCAAyC;IACjD,UAAU,EAAE,4BAA4B;IACxC,WAAW,EAAE,mCAAmC;IAChD,SAAS,EAAE,YAAY;IACvB,aAAa,EAAE,EAAE;IACjB,iBAAiB,EAAE,eAAe;CACnC,CAAC","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 144;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 144\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 187;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 187\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { User } from \"../../models/user\";\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { TabsPage } from \"../tabs/tabs\"\n/**\n * Generated class for the LoginPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n  loginError: string;\n\n  user = {} as User;\n  constructor(private afAuth: AngularFireAuth,\n    public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n  async login(user: User) {\n    try {\n      const result = await this.afAuth.auth.signInWithEmailAndPassword(user.email, user.password);\n      if (result) {\n        this.navCtrl.setRoot(TabsPage);\n      }\n    }\n    catch (e) {\n      console.error(e);\n    }\n  }\n\n  async register(user: User) {\n    try {\n      if (!user.email.endsWith(\".edu\")) {\n        this.loginError = \"You must register with a .edu e-mail address\";\n      } else {\n        const result = await this.afAuth.auth.createUserWithEmailAndPassword(\n          user.email,\n          user.password\n        );\n        if (result) {\n          this.navCtrl.setRoot(TabsPage);\n        }\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad LoginPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { Component } from '@angular/core';\nimport { CozePage } from '../coze/coze';\nimport { FriendsPage } from '../friends/friends';\nimport { SettingsPage } from '../settings/settings';\n\n@Component({\n  selector: 'TabsPage',\n  templateUrl: 'tabs.html'\n})\nexport class TabsPage {\n\n  tab1Root = CozePage;\n  tab2Root = FriendsPage;\n  tab3Root = SettingsPage;\n\n  constructor() {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { NativeAudio } from '@ionic-native/native-audio';\n\ndeclare var apiRTC: any\n\n@Component({\n  selector: 'page-coze',\n  templateUrl: 'coze.html'\n})\nexport class CozePage {\n\n  // Vars for timers\n  cozeTimer: number;\n  // TODO: This needs to be set to the countdown until the next Coze\n  timeToCoze: any=5;\n  readyForCoze: boolean;\n  callTimer: number;\n  callTimeLeft: any=30;\n\n  // Vars for RTC\n  showCall: boolean;\n  showHangup: boolean;\n  showAnswer: boolean;\n  showReject: boolean;\n  showStatus: boolean;\n  showRemoteVideo: boolean = true;\n  showMyVideo: boolean = true;\n\n  session;\n  webRTCClient;\n  incomingCallId = 0;\n  myCallId;\n  status;\n  calleeId;\n\n  constructor(public navCtrl: NavController,private nativeAudio: NativeAudio) {\n    this.InitializeApiRTC();\n    this.nativeAudio.preloadComplex('uniqueI1', 'assets/tone.mp3', 1, 1, 0).then((succ)=>{\n      console.log(\"suu\",succ)\n    }, (err)=>{\n      console.log(\"err\",err)\n    });\n\n    this.StartCozeTimer();\n  }\n\n  InitializeApiRTC() {\n    //apiRTC initialization\n    apiRTC.init({\n      apiKey: \"819abef1fde1c833e0601ec6dd4a8226\",\n      // apiCCId : \"2\",\n      onReady: (e) => {\n        this.sessionReadyHandler(e);\n      }\n    });\n  }\n\n  sessionReadyHandler(e) {\n    this.myCallId = apiRTC.session.apiCCId;\n    //this.InitializeControls();\n    this.AddEventListeners();\n    this.InitializeWebRTCClient();\n  }\n\n  InitializeWebRTCClient() {\n    this.webRTCClient = apiRTC.session.createWebRTCClient({\n      status: \"status\" //Optionnal\n    });\n    /*    this.webRTCClient.setAllowMultipleCalls(true);\n        this.webRTCClient.setVideoBandwidth(300);\n        this.webRTCClient.setUserAcceptOnIncomingCall(true);*/\n  }\n\n  InitializeControls() {\n    this.showCall = true;\n    this.showAnswer = false;\n    this.showHangup = false;\n    this.showReject = false;\n  }\n\n  InitializeControlsForIncomingCall() {\n    this.showCall = false;\n    this.showAnswer = true;\n    this.showReject = true;\n    this.showHangup = true;\n    this.nativeAudio.loop('uniqueI1').then((succ)=>{\n      console.log(\"succ\",succ)\n    }, (err)=>{\n      console.log(\"err\",err)\n    });\n\n  }\n\n  InitializeControlsForHangup() {\n    this.showCall = true;\n    this.showAnswer = false;\n    this.showReject = false;\n    this.showHangup = false;\n  }\n\n  UpdateControlsOnAnswer() {\n    this.showAnswer = false;\n    this.showReject = false;\n    this.showHangup = true;\n    this.showCall = false;\n  }\n\n  UpdateControlsOnReject() {\n    this.showAnswer = false;\n    this.showReject = false;\n    this.showHangup = false;\n    this.showCall = true;\n  }\n\n  RemoveMediaElements(callId) {\n    this.webRTCClient.removeElementFromDiv('mini', 'miniElt-' + callId);\n    this.webRTCClient.removeElementFromDiv('remote', 'remoteElt-' + callId);\n  }\n\n  AddStreamInDiv(stream, callType, divId, mediaEltId, style, muted) {\n    let mediaElt = null;\n    let divElement = null;\n\n    if (callType === 'audio') {\n      mediaElt = document.createElement(\"audio\");\n    } else {\n      mediaElt = document.createElement(\"video\");\n    }\n\n    mediaElt.id = mediaEltId;\n    mediaElt.autoplay = true;\n    mediaElt.muted = muted;\n    mediaElt.style.width = style.width;\n    mediaElt.style.height = style.height;\n\n    divElement = document.getElementById(divId);\n    divElement.appendChild(mediaElt);\n\n    this.webRTCClient.attachMediaStream(mediaElt, stream);\n  }\n\n  AddEventListeners() {\n    apiRTC.addEventListener(\"userMediaSuccess\", (e) => {\n      this.showStatus = true;\n      this.showMyVideo = true;\n\n      this.webRTCClient.addStreamInDiv(e.detail.stream, e.detail.callType, \"mini\", 'miniElt-' + e.detail.callId, {\n        width: \"128px\",\n        height: \"96px\"\n      }, true);\n\n    });\n\n    apiRTC.addEventListener(\"userMediaError\", (e) => {\n      this.InitializeControlsForHangup();\n\n      this.status = this.status + \"<br/> The following error has occurred <br/> \" + e;\n    });\n\n    apiRTC.addEventListener(\"incomingCall\", (e) => {\n      // this.InitializeControlsForIncomingCall();\n      this.incomingCallId = e.detail.callId;\n      this.AnswerCall(this.incomingCallId);\n      this.StartCallTimer();\n    });\n\n    apiRTC.addEventListener(\"hangup\", (e) => {\n      if (e.detail.lastEstablishedCall === true) {\n        this.InitializeControlsForHangup();\n      }\n      this.status = this.status + \"<br/> The call has been hunged up due to the following reasons <br/> \" + e.detail.reason;\n      this.RemoveMediaElements(e.detail.callId);\n    });\n\n    apiRTC.addEventListener(\"remoteStreamAdded\", (e) => {\n      this.webRTCClient.addStreamInDiv(e.detail.stream, e.detail.callType, \"remote\", 'remoteElt-' + e.detail.callId, {\n        width: \"300px\",\n        height: \"225px\"\n      }, false);\n    });\n\n    apiRTC.addEventListener(\"webRTCClientCreated\", (e) => {\n      console.log(\"webRTC Client Created\");\n      this.webRTCClient.setAllowMultipleCalls(true);\n      this.webRTCClient.setVideoBandwidth(300);\n      this.webRTCClient.setUserAcceptOnIncomingCall(true);\n\n      /*      this.InitializeControls();\n            this.AddEventListeners();*/\n\n      //this.MakeCall(\"729278\");\n    });\n\n  }\n\n  MakeCall(calleeId) {\n    var callId = this.webRTCClient.call(calleeId);\n    if (callId != null) {\n      this.incomingCallId = callId;\n      this.showHangup = true;\n    }\n  }\n\n  HangUp() {\n    this.webRTCClient.hangUp(this.incomingCallId);\n  }\n\n  AnswerCall(incomingCallId) {\n    this.webRTCClient.acceptCall(incomingCallId);\n    this.nativeAudio.stop('uniqueI1').then(()=>{},()=>{});\n\n    this.UpdateControlsOnAnswer();\n  }\n\n  RejectCall(incomingCallId) {\n    this.webRTCClient.refuseCall(incomingCallId);\n    this.UpdateControlsOnReject();\n    this.RemoveMediaElements(incomingCallId);\n  }\n\n  StartCozeTimer(){\n      this.cozeTimer = setTimeout(x =>\n        {\n            if (this.timeToCoze <= 0) { }\n            this.timeToCoze -= 1;\n\n            if (this.timeToCoze > 0) {\n              this.readyForCoze = false;\n              this.StartCozeTimer();\n            }\n\n            else {\n                this.readyForCoze = true;\n            }\n\n        }, 1000);\n\n\n    }\n\n  StartCallTimer(){\n    this.callTimer = setTimeout(x =>\n    {\n      if (this.callTimeLeft <= 0) {}\n      this.callTimeLeft -= 1;\n\n      if (this.callTimeLeft > 0) {\n        this.HangUp();\n        // TODO: This needs to be reset to the countdown until the next Coze\n        this.timeToCoze = 5\n      }\n    }, 1000);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/coze/coze.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\n@Component({\n  selector: 'page-friends',\n  templateUrl: 'friends.html'\n})\nexport class FriendsPage {\n\n  constructor(public navCtrl: NavController) {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/friends/friends.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html'\n})\nexport class SettingsPage {\n\n  constructor(public navCtrl: NavController) {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { MyApp } from './app.component';\n\nimport { CozePage } from '../pages/coze/coze';\nimport { FriendsPage } from '../pages/friends/friends';\nimport { SettingsPage } from '../pages/settings/settings';\nimport { TabsPage } from '../pages/tabs/tabs';\nimport { LoginPage } from '../pages/login/login';\n\n// Temporary until we get video chat working\nimport { HomePage } from '../pages/home/home';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { NativeAudio } from '@ionic-native/native-audio';\n\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\n\nimport { FIREBASE_CREDENTIALS } from './firebase.credentials';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    CozePage,\n    FriendsPage,\n    SettingsPage,\n    TabsPage,\n    LoginPage,\n    HomePage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    AngularFireModule.initializeApp(FIREBASE_CREDENTIALS),\n    AngularFireAuthModule,\n    AngularFireDatabaseModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    CozePage,\n    FriendsPage,\n    SettingsPage,\n    TabsPage,\n    LoginPage,\n    HomePage\n  ],\n  providers: [\n    NativeAudio,\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\n// import { TabsPage } from '../pages/tabs/tabs';\nimport { LoginPage } from '../pages/login/login';\n\n// This is temporary so we can port over the WebRTC funcitonality to our Coze page\n// import { HomePage } from '../pages/home/home';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = LoginPage;\n\n  // Uncomment this to make the home page the test WebRTC page\n  //rootPage:any = HomePage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { NativeAudio } from '@ionic-native/native-audio';\n\ndeclare var apiRTC: any\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n  showCall: boolean;\n  showHangup: boolean;\n  showAnswer: boolean;\n  showReject: boolean;\n  showStatus: boolean;\n  showRemoteVideo: boolean = true;\n  showMyVideo: boolean = true;\n\n  session;\n  webRTCClient;\n  incomingCallId = 0;\n  myCallId;\n  status;\n  calleeId;\n\n  constructor(public navCtrl: NavController,private nativeAudio: NativeAudio) {\n    this.InitializeApiRTC();\n    this.nativeAudio.preloadComplex('uniqueI1', 'assets/tone.mp3', 1, 1, 0).then((succ)=>{\n      console.log(\"suu\",succ)\n    }, (err)=>{\n      console.log(\"err\",err)\n    });\n\n  }\n\n  InitializeApiRTC() {\n    //apiRTC initialization\n    apiRTC.init({\n      apiKey: \"819abef1fde1c833e0601ec6dd4a8226\",\n      // apiCCId : \"2\",\n      onReady: (e) => {\n        this.sessionReadyHandler(e);\n      }\n    });\n  }\n\n  sessionReadyHandler(e) {\n    this.myCallId = apiRTC.session.apiCCId;\n    this.InitializeControls();\n    this.AddEventListeners();\n    this.InitializeWebRTCClient();\n  }\n\n  InitializeWebRTCClient() {\n    this.webRTCClient = apiRTC.session.createWebRTCClient({\n      status: \"status\" //Optionnal\n    });\n    /*    this.webRTCClient.setAllowMultipleCalls(true);\n        this.webRTCClient.setVideoBandwidth(300);\n        this.webRTCClient.setUserAcceptOnIncomingCall(true);*/\n  }\n\n  InitializeControls() {\n    this.showCall = true;\n    this.showAnswer = false;\n    this.showHangup = false;\n    this.showReject = false;\n  }\n\n  InitializeControlsForIncomingCall() {\n    this.showCall = false;\n    this.showAnswer = true;\n    this.showReject = true;\n    this.showHangup = true;\n    this.nativeAudio.loop('uniqueI1').then((succ)=>{\n      console.log(\"succ\",succ)\n    }, (err)=>{\n      console.log(\"err\",err)\n    });\n\n  }\n\n  InitializeControlsForHangup() {\n    this.showCall = true;\n    this.showAnswer = false;\n    this.showReject = false;\n    this.showHangup = false;\n  }\n\n  UpdateControlsOnAnswer() {\n    this.showAnswer = false;\n    this.showReject = false;\n    this.showHangup = true;\n    this.showCall = false;\n  }\n\n  UpdateControlsOnReject() {\n    this.showAnswer = false;\n    this.showReject = false;\n    this.showHangup = false;\n    this.showCall = true;\n  }\n\n  RemoveMediaElements(callId) {\n    this.webRTCClient.removeElementFromDiv('mini', 'miniElt-' + callId);\n    this.webRTCClient.removeElementFromDiv('remote', 'remoteElt-' + callId);\n  }\n\n  AddStreamInDiv(stream, callType, divId, mediaEltId, style, muted) {\n    let mediaElt = null;\n    let divElement = null;\n\n    if (callType === 'audio') {\n      mediaElt = document.createElement(\"audio\");\n    } else {\n      mediaElt = document.createElement(\"video\");\n    }\n\n    mediaElt.id = mediaEltId;\n    mediaElt.autoplay = true;\n    mediaElt.muted = muted;\n    mediaElt.style.width = style.width;\n    mediaElt.style.height = style.height;\n\n    divElement = document.getElementById(divId);\n    divElement.appendChild(mediaElt);\n\n    this.webRTCClient.attachMediaStream(mediaElt, stream);\n  }\n\n  AddEventListeners() {\n    apiRTC.addEventListener(\"userMediaSuccess\", (e) => {\n      this.showStatus = true;\n      this.showMyVideo = true;\n\n      this.webRTCClient.addStreamInDiv(e.detail.stream, e.detail.callType, \"mini\", 'miniElt-' + e.detail.callId, {\n        width: \"128px\",\n        height: \"96px\"\n      }, true);\n\n    });\n\n    apiRTC.addEventListener(\"userMediaError\", (e) => {\n      this.InitializeControlsForHangup();\n\n      this.status = this.status + \"<br/> The following error has occurred <br/> \" + e;\n    });\n\n    apiRTC.addEventListener(\"incomingCall\", (e) => {\n      this.InitializeControlsForIncomingCall();\n      this.incomingCallId = e.detail.callId;\n    });\n\n    apiRTC.addEventListener(\"hangup\", (e) => {\n      if (e.detail.lastEstablishedCall === true) {\n        this.InitializeControlsForHangup();\n      }\n      this.status = this.status + \"<br/> The call has been hunged up due to the following reasons <br/> \" + e.detail.reason;\n      this.RemoveMediaElements(e.detail.callId);\n    });\n\n    apiRTC.addEventListener(\"remoteStreamAdded\", (e) => {\n      this.webRTCClient.addStreamInDiv(e.detail.stream, e.detail.callType, \"remote\", 'remoteElt-' + e.detail.callId, {\n        width: \"300px\",\n        height: \"225px\"\n      }, false);\n    });\n\n    apiRTC.addEventListener(\"webRTCClientCreated\", (e) => {\n      console.log(\"webRTC Client Created\");\n      this.webRTCClient.setAllowMultipleCalls(true);\n      this.webRTCClient.setVideoBandwidth(300);\n      this.webRTCClient.setUserAcceptOnIncomingCall(true);\n\n      /*      this.InitializeControls();\n            this.AddEventListeners();*/\n\n      //this.MakeCall(\"729278\");\n    });\n\n  }\n\n  MakeCall(calleeId) {\n    var callId = this.webRTCClient.call(calleeId);\n    if (callId != null) {\n      this.incomingCallId = callId;\n      this.showHangup = true;\n    }\n  }\n\n  HangUp() {\n    this.webRTCClient.hangUp(this.incomingCallId);\n  }\n\n  AnswerCall(incomingCallId) {\n    this.webRTCClient.acceptCall(incomingCallId);\n    this.nativeAudio.stop('uniqueI1').then(()=>{},()=>{});\n\n    this.UpdateControlsOnAnswer();\n  }\n\n  RejectCall(incomingCallId) {\n    this.webRTCClient.refuseCall(incomingCallId);\n    this.UpdateControlsOnReject();\n    this.RemoveMediaElements(incomingCallId);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","export const FIREBASE_CREDENTIALS = {\n  apiKey: \"AIzaSyA-ghCvFKtmWslyfdv7tfijtgfrSTkV_ZA\",\n  authDomain: \"cozeserver.firebaseapp.com\",\n  databaseURL: \"https://cozeserver.firebaseio.com\",\n  projectId: \"cozeserver\",\n  storageBucket: \"\",\n  messagingSenderId: \"1048041411921\"\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/firebase.credentials.ts"],"sourceRoot":""}