{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/coze/coze.ts","../../src/pages/friends/friends.ts","../../src/pages/settings/settings.ts","../../src/pages/login/login.ts","../../src/pages/sign-up/sign-up.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/app/config.ts","../../src/pages/home/home.ts","../../src/app/firebase.credentials.ts","../../src/pages/tabs/tabs.ts","../../src/providers/firebase/firebase.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 147;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 147\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 190;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 190\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController, Platform } from 'ionic-angular';\nimport { NativeAudio } from '@ionic-native/native-audio';\nimport { HTTP } from '@ionic-native/http';\nimport { AndroidPermissions } from '@ionic-native/android-permissions';\nimport { CONFIG } from '../../app/config';\nimport { AngularFireAuth } from \"angularfire2/auth\";\nimport { FirebaseProvider } from \"../../providers/firebase/firebase\";\n\ndeclare var apiRTC: any\n\n@Component({\n  selector: 'page-coze',\n  templateUrl: 'coze.html'\n})\nexport class CozePage {\n\n  // Vars for timers\n  cozeTimer: number;\n  // TODO: This needs to be set to the countdown until the next Coze\n  timeToCoze: any=5;\n  gotNextCozeTime: boolean = false;\n  readyForCoze: boolean = false;\n  startCoze: boolean = false;\n  callTimer: number;\n  callTimeLeft: any=0;\n  callMaxDuration: any=30;\n  timeToCozeStr: string = \"-:-:-\";\n\n  //ifconfig | grep inet | grep broadcast\n  //cozeHost: string = \"http://10.148.128.133:5000\"\n  //cozeHost: string = \"http://middleware.ddns.net:5000\"\n  cozeHost: string = CONFIG.cozeHost;\n  // Vars for RTC\n  showCall: boolean;\n  showHangup: boolean;\n  showAnswer: boolean;\n  showReject: boolean;\n  showStatus: boolean;\n  showControls: boolean = false;\n  showRemoteVideo: boolean = true;\n  showMyVideo: boolean = true;\n  connected: boolean = false;\n  screenWidth: number;\n  screenHeight: number;\n  debugmsg: string = \"\";\n\n  myUserId: any;\n  partnerUserId: any;\n  myCallId: any;\n  partnerCallId: any;\n\n  partnerIsFriend: boolean = false;\n\n  session;\n  webRTCClient;\n  incomingCallId = 0;\n  status;\n  calleeId;\n\n  constructor(public navCtrl: NavController, private nativeAudio: NativeAudio,\n      private platform: Platform, private http: HTTP,\n      private androidPermissions: AndroidPermissions,\n      private afAuth: AngularFireAuth, public firebaseProvider: FirebaseProvider\n    ) {\n    console.log(\"On Coze Page\")\n\n    platform.ready().then((readySource) => {\n      console.log(\"Coze Page: platform.ready\")\n      this.myUserId = this.afAuth.auth.currentUser.uid;\n      this.GetPermissions();\n\n      this.InitializeApiRTC();\n\n      /*\n      this.nativeAudio.preloadComplex('uniqueI1', 'assets/tone.mp3', 1, 1, 0).then((succ)=>{\n        console.log(\"suu\",succ)\n      }, (err)=> {\n        console.log(\"err\",err)\n      });*/\n\n      this.screenWidth = platform.width();\n      this.screenHeight = platform.height();\n\n      //this.GetNextCozeTime();\n    });\n  }\n\n  ionViewDidEnter() {\n    this.GetNextCozeTime();\n  }\n  InitializeApiRTC() {\n    //apiRTC initialization\n    apiRTC.init({\n      apiKey: \"819abef1fde1c833e0601ec6dd4a8226\",\n      //apiKey: \"a4de60319a9495a413a6d4a3b2871f88\",\n      // apiCCId : \"2\",\n      onReady: (e) => {\n        this.sessionReadyHandler(e);\n      }\n    });\n  }\n\n  sessionReadyHandler(e) {\n    this.myCallId = apiRTC.session.apiCCId;\n    //this.InitializeControls();\n    this.AddEventListeners();\n    this.InitializeWebRTCClient();\n  }\n\n  InitializeWebRTCClient() {\n    this.webRTCClient = apiRTC.session.createWebRTCClient({\n      status: \"status\" //Optionnal\n    });\n    /*    this.webRTCClient.setAllowMultipleCalls(true);\n        this.webRTCClient.setVideoBandwidth(300);\n        this.webRTCClient.setUserAcceptOnIncomingCall(true);*/\n  }\n\n  InitializeControls() {\n    this.showCall = true;\n    this.showAnswer = false;\n    this.showHangup = false;\n    this.showReject = false;\n  }\n\n  InitializeControlsForIncomingCall() {\n    this.showCall = false;\n    this.showAnswer = true;\n    this.showReject = true;\n    this.showHangup = true;\n    /*this.nativeAudio.loop('uniqueI1').then((succ)=>{\n      console.log(\"succ\",succ)\n    }, (err)=>{\n      console.log(\"err\",err)\n    });*/\n\n  }\n\n  InitializeControlsForHangup() {\n    this.showCall = true;\n    this.showAnswer = false;\n    this.showReject = false;\n    this.showHangup = false;\n  }\n\n  UpdateControlsOnAnswer() {\n    this.showAnswer = false;\n    this.showReject = false;\n    this.showHangup = true;\n    this.showCall = false;\n  }\n\n  UpdateControlsOnReject() {\n    this.showAnswer = false;\n    this.showReject = false;\n    this.showHangup = false;\n    this.showCall = true;\n  }\n\n  RemoveMediaElements(callId) {\n    this.webRTCClient.removeElementFromDiv('mini', 'miniElt-' + callId);\n    this.webRTCClient.removeElementFromDiv('remote', 'remoteElt-' + callId);\n  }\n\n  AddStreamInDiv(stream, callType, divId, mediaEltId, style, muted) {\n    let mediaElt = null;\n    let divElement = null;\n\n    if (callType === 'audio') {\n      mediaElt = document.createElement(\"audio\");\n    } else {\n      mediaElt = document.createElement(\"video\");\n    }\n\n    mediaElt.id = mediaEltId;\n    mediaElt.autoplay = true;\n    mediaElt.muted = muted;\n    mediaElt.style.width = style.width;\n    mediaElt.style.height = style.height;\n\n    divElement = document.getElementById(divId);\n    divElement.appendChild(mediaElt);\n\n    this.webRTCClient.attachMediaStream(mediaElt, stream);\n  }\n\n  AddEventListeners() {\n    apiRTC.addEventListener(\"userMediaSuccess\", (e) => {\n      this.showStatus = true;\n      this.showMyVideo = true;\n\n      this.webRTCClient.addStreamInDiv(e.detail.stream, e.detail.callType, \"mini\", 'miniElt-' + e.detail.callId, {\n        width: \"128px\",\n        height: \"96px\"\n      }, true);\n\n    });\n\n    apiRTC.addEventListener(\"userMediaError\", (e) => {\n      this.InitializeControlsForHangup();\n\n      this.status = this.status + \"<br/> The following error has occurred <br/> \" + e;\n    });\n\n    apiRTC.addEventListener(\"incomingCall\", (e) => {\n      console.log(\"incomingCall\")\n      this.InitializeControlsForIncomingCall();\n      this.incomingCallId = e.detail.callId;\n      this.AnswerCall(this.incomingCallId);\n    });\n\n    apiRTC.addEventListener(\"hangup\", (e) => {\n      if (e.detail.lastEstablishedCall === true) {\n        this.InitializeControlsForHangup();\n      }\n      this.status = this.status + \"<br/> The call has been hunged up due to the following reasons <br/> \" + e.detail.reason;\n      this.RemoveMediaElements(e.detail.callId);\n      this.CallDoneCleanup();\n    });\n\n    // TODO: Add logging to database for coze's that happened (i.e. between whom and when, duration, etc)\n    apiRTC.addEventListener(\"remoteStreamAdded\", (e) => {\n      this.callTimeLeft = this.callMaxDuration;\n      this.StartCallTimer();\n      this.connected = true;\n      //var w = Math.min(this.screenWidth, this.screenHeight);\n      //console.log(w);\n      this.webRTCClient.addStreamInDiv(e.detail.stream, e.detail.callType, \"remote\", 'remoteElt-' + e.detail.callId, {\n        width: \"300px\",\n        height: \"225px\"\n        //width: Math.floor(w*0.5),\n        //height: Math.floor(w*0.5)\n      }, false);\n    });\n\n    apiRTC.addEventListener(\"webRTCClientCreated\", (e) => {\n      console.log(\"webRTC Client Created\");\n      this.webRTCClient.setAllowMultipleCalls(true);\n      this.webRTCClient.setVideoBandwidth(500);\n      this.webRTCClient.setUserAcceptOnIncomingCall(true);\n\n      /*      this.InitializeControls();\n            this.AddEventListeners();*/\n\n      //this.MakeCall(\"729278\");\n    });\n\n  }\n\n  MakeCall(calleeId) {\n    console.log(\"MakeCall\");\n    var callId = this.webRTCClient.call(calleeId);\n    if (callId != null) {\n      this.incomingCallId = callId;\n      this.showHangup = true;\n    }\n  }\n\n  HangUp() {\n    this.webRTCClient.hangUp(this.incomingCallId);\n  }\n\n  CallDoneCleanup() {\n    this.connected = false;\n    this.partnerCallId = null;\n    this.partnerUserId = null;\n    this.callTimeLeft = 0;\n    this.startCoze = false;\n    this.readyForCoze = false;\n    this.gotNextCozeTime = false;\n    this.partnerIsFriend = false;\n    this.GetNextCozeTime();\n  }\n\n  AnswerCall(incomingCallId) {\n    console.log(\"AnswerCall\");\n    this.webRTCClient.acceptCall(incomingCallId);\n    //this.nativeAudio.stop('uniqueI1').then(()=>{},()=>{});\n\n    this.UpdateControlsOnAnswer();\n  }\n\n  RejectCall(incomingCallId) {\n    this.webRTCClient.refuseCall(incomingCallId);\n    this.UpdateControlsOnReject();\n    this.RemoveMediaElements(incomingCallId);\n    this.CallDoneCleanup();\n  }\n\n  StartCozeTimer(){\n    if (this.cozeTimer) {\n      clearTimeout(this.cozeTimer);\n    }\n    this.cozeTimer = setTimeout(x =>\n      {\n        this.timeToCoze -= 1;\n        this.timeToCozeStr = this.SecondstoStr(this.timeToCoze);\n\n        if (this.timeToCoze  < 3 && !this.readyForCoze) {\n            this.readyForCoze = true;\n            this.ReadyForCoze()\n        }\n\n        if (this.timeToCoze > 0) {\n          this.StartCozeTimer();\n        } else {\n          this.startCoze = true;\n          this.GetMatch();\n        }\n\n      }, 1000);\n  }\n\n  StartCallTimer(){\n    if (this.callTimer) {\n      clearTimeout(this.callTimer);\n    }\n    this.callTimer = setTimeout(x =>\n    {\n      if (this.callTimeLeft <= 0) {}\n      this.callTimeLeft -= 1;\n\n      if (this.callTimeLeft > 0) {\n        this.StartCallTimer();\n      } else {\n        this.HangUp();\n      }\n    }, 1000);\n  }\n\n//coze states\n//waiting\n//matching\n//matched\n\n  GetNextCozeTime() {\n    var url = this.cozeHost + '/get_next_coze_time';\n    var $this = this;\n    var getNextCozeTimeIntervalID = setInterval(function () {\n      console.log(\"Trying to get next Coze time...\");\n      $this.http.get(url, {}, {}).then(data => {\n        var cozeState = JSON.parse(data.data)[\"coze_state\"];\n        if (cozeState == \"waiting\") {\n          clearInterval(getNextCozeTimeIntervalID);\n          var nextCozeTime = JSON.parse(data.data)[\"next_coze_time\"];\n          var timeNow = +new Date();\n          $this.timeToCoze = Math.floor((+new Date(nextCozeTime) - timeNow) / 1000);\n          $this.StartCozeTimer();\n          console.log(nextCozeTime);\n          console.log(new Date(nextCozeTime));\n          console.log($this.timeToCoze);\n          $this.gotNextCozeTime = true;\n        } else {\n          //missed the COze\n        }\n      });\n    }, 3000);\n  }\n\n  ReadyForCoze() {\n    //var url = this.cozeHost + '/ready_for_coze?user_id=' + encodeURI(this.myUserId);\n    var url = this.cozeHost + '/ready_for_coze';\n    this.http.get(url, {\"user_id\":this.myUserId, \"webrtc_id\":this.myCallId}, {}).then(data => {\n      console.log(\"Signaled 'Ready for Coze'\")\n    });\n  }\n\n  AddToFriends() {\n    this.firebaseProvider.addFriend(this.myUserId, this.partnerUserId);\n    this.partnerIsFriend = true;\n  }\n\n  GetMatch() {\n    this.debugmsg = \"Entered GetMatch()\";\n    var attempt = 0;\n    //var url = this.cozeHost + '/get_match?user_id=' + encodeURI(this.myUserId);\n    var url = this.cozeHost + '/get_match';\n    var $this = this;\n    var getMatchIntervalID = setInterval(function () {\n      console.log(\"Attempt \" + (attempt+1) + \" at GetMatch()\");\n      $this.http.get(url, {\"user_id\":$this.myUserId}, {}).then(data => {\n        $this.debugmsg += data.data;\n        var result: any = JSON.parse(data.data);\n        $this.debugmsg += \"\\n\" + (\"partner_user_id\" in result);\n        $this.debugmsg += \"\\n\" + result[\"notin\"];\n        if (\"partner_user_id\" in result && \"partner_webrtc_id\" in result) {\n          console.log(\"Found a match!\");\n          $this.debugmsg += \"\\nFound a match!\";\n          clearInterval(getMatchIntervalID);\n          $this.partnerUserId = result[\"partner_user_id\"];\n          $this.partnerCallId = parseInt(result[\"partner_webrtc_id\"]);\n          console.log($this.partnerUserId);\n          console.log($this.partnerCallId);\n          $this.debugmsg += \"\\n\" + result[\"is_caller\"]\n          if (result[\"is_caller\"] == 1) {\n            $this.debugmsg += \"\\nMaking the call!\";\n            // Only one person makes the call\n            $this.MakeCall($this.partnerCallId);\n          }\n        } else {\n          console.log(\"Didn't find a match - trying again\");\n          $this.debugmsg += \"\\nDidn't find a match yet...\";\n          attempt += 1;\n          if (attempt >= 3) {\n            console.log(\"Tried \" + attempt + \" times, quitting\");\n            clearInterval(getMatchIntervalID);\n          }\n        console.log(\"End of GetMatch attempt\");\n        }\n      })\n    }, 3000);\n  }\n\n  SecondstoStr(_seconds) {\n    var hours = Math.floor(_seconds/3600).toString();\n    var minutes = Math.floor((_seconds % 3600) / 60).toString();\n    var seconds = Math.floor(_seconds % 60).toString();\n    if (hours.length < 2) { hours = \"0\" + hours };\n    if (minutes.length < 2) { minutes = \"0\" + minutes };\n    if (seconds.length < 2) { seconds = \"0\" + seconds };\n    var str = hours + \":\" + minutes + \":\" + seconds;\n    return str\n  }\n\n  GetPermissions() {\n    /*this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.CAMERA).then(\n      result => console.log('Has permission?',result.hasPermission),\n      err => this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.CAMERA)\n    );\n\n    this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.RECORD_AUDIO).then(\n      result => console.log('Has permission?',result.hasPermission),\n      err => this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.RECORD_AUDIO)\n    );*/\n\n    this.androidPermissions.requestPermissions([this.androidPermissions.PERMISSION.CAMERA, this.androidPermissions.PERMISSION.RECORD_AUDIO]);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/coze/coze.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { AngularFireList, AngularFireObject } from 'angularfire2/database';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { FirebaseProvider } from './../../providers/firebase/firebase';\n\n@Component({\n  selector: 'page-friends',\n  templateUrl: 'friends.html'\n})\nexport class FriendsPage {\n  userFriends: any = null;\n  myUserId: any;\n\n  constructor(public navCtrl: NavController,\n    public firebaseProvider: FirebaseProvider,\n    private afAuth: AngularFireAuth) {\n      this.myUserId = this.afAuth.auth.currentUser.uid;\n\n      this.firebaseProvider.getUserData(this.myUserId).valueChanges()\n        .subscribe(ref => {\n          if (\"friends\" in ref) {\n            this.userFriends = ref.friends;\n          }\n        }\n      );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/friends/friends.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html'\n})\nexport class SettingsPage {\n\n  constructor(public navCtrl: NavController) {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { User } from \"../../models/user\";\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { TabsPage } from \"../tabs/tabs\";\nimport { SignUpPage } from \"../sign-up/sign-up\";\n\n/**\n * Generated class for the LoginPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n  showLogin: boolean = false;\n  loginError: string;\n  user = {} as User;\n\n  constructor(private afAuth: AngularFireAuth,\n    public navCtrl: NavController, public navParams: NavParams) {\n      console.log(\"On Login Page\")\n      /*this.afAuth.authState.subscribe(res => {\n        if (res && res.uid) {\n          this.navCtrl.setRoot(TabsPage);\n        } else {\n          this.showLogin = true;\n        }\n      });*/\n  }\n\n  async login(user: User) {\n    console.log(\"Attempting login\")\n    try {\n      const result = await this.afAuth.auth.signInWithEmailAndPassword(user.email, user.password);\n      if (result) {\n        this.navCtrl.setRoot(TabsPage);\n      } else {\n        this.loginError = \"Incorrect e-mail or password\"\n      }\n    }\n    catch (e) {\n      console.error(e);\n    }\n  }\n\n  async register(user: User) {\n    // New separate sign-up page - direct to there\n    this.navCtrl.push(SignUpPage);\n    /*try {\n      if (!user.email.endsWith(\".edu\")) {\n        this.loginError = \"You must register with a .edu e-mail address\";\n      } else {\n        const result = await this.afAuth.auth.createUserWithEmailAndPassword(\n          user.email,\n          user.password\n        );\n        if (result) {\n          this.navCtrl.setRoot(TabsPage);\n        }\n      }\n    } catch (e) {\n      console.error(e);\n    }*/\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad LoginPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { User } from \"../../models/user\";\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { TabsPage } from \"../tabs/tabs\"\nimport { FirebaseProvider } from './../../providers/firebase/firebase';\n\n\n/**\n * Generated class for the SignUpPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-sign-up',\n  templateUrl: 'sign-up.html',\n})\nexport class SignUpPage {\n  error: string;\n\n  user = {} as User;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    private afAuth: AngularFireAuth, public firebaseProvider: FirebaseProvider) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad SignUpPage');\n  }\n\n  async register(user: User) {\n    try {\n      if (!user.firstName || !user.firstName || !user.password || !user.email) {\n        this.error = \"Please fill in all required fields\"\n      } else if (!user.email.endsWith(\".edu\")) {\n        this.error = \"You must register with a .edu e-mail address\";\n      } else {\n        const result = await this.afAuth.auth.createUserWithEmailAndPassword(\n          user.email,\n          user.password,\n        );\n        if (result) {\n          var userId = this.afAuth.auth.currentUser.uid;\n          this.firebaseProvider.addUser(userId, user.email, user.firstName,\n            user.lastName, user.major);\n          this.navCtrl.setRoot(TabsPage);\n        }\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sign-up/sign-up.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { MyApp } from './app.component';\n\nimport { CozePage } from '../pages/coze/coze';\nimport { FriendsPage } from '../pages/friends/friends';\nimport { SettingsPage } from '../pages/settings/settings';\nimport { TabsPage } from '../pages/tabs/tabs';\nimport { LoginPage } from '../pages/login/login';\nimport { SignUpPage } from \"../pages/sign-up/sign-up\";\n\n//import { SignUpPage } from '../pages/sign-up/sign-up'\n\n// Temporary until we get video chat working\nimport { HomePage } from '../pages/home/home';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { NativeAudio } from '@ionic-native/native-audio';\n\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\n\nimport { HTTP } from '@ionic-native/http'\n\nimport { AndroidPermissions } from '@ionic-native/android-permissions';\n\nimport { FIREBASE_CREDENTIALS } from './firebase.credentials';\nimport { FirebaseProvider } from '../providers/firebase/firebase';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    CozePage,\n    FriendsPage,\n    SettingsPage,\n    TabsPage,\n    LoginPage,\n    HomePage,\n    SignUpPage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    AngularFireModule.initializeApp(FIREBASE_CREDENTIALS),\n    AngularFireAuthModule,\n    AngularFireDatabaseModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    CozePage,\n    FriendsPage,\n    SettingsPage,\n    TabsPage,\n    LoginPage,\n    HomePage,\n    SignUpPage\n  ],\n  providers: [\n    NativeAudio,\n    StatusBar,\n    SplashScreen,\n    HTTP,\n    AndroidPermissions,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    FirebaseProvider,\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { TabsPage } from '../pages/tabs/tabs';\nimport { LoginPage } from '../pages/login/login';\n//import { SignUpPage } from '../pages/sign-up/sign-up'\n\nimport { AngularFireAuth } from 'angularfire2/auth';\n\n\n// This is temporary so we can port over the WebRTC funcitonality to our Coze page\n// import { HomePage } from '../pages/home/home';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any;\n\n  // Uncomment this to make the home page the test WebRTC page\n  //rootPage:any = HomePage;\n\n  constructor(platform: Platform, statusBar: StatusBar,\n    splashScreen: SplashScreen, private afAuth: AngularFireAuth,) {\n    console.log(\"App.Component Constructor\")\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      this.afAuth.authState.subscribe(res => {\n        if (res && res.uid) {\n          this.rootPage = TabsPage;\n        } else {\n          this.rootPage = LoginPage;\n        }\n      });\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","export const CONFIG = {\n  cozeHost: \"http://middleware.ddns.net:5000\",\n  //cozeHost: \"http://bearnet.dyndns.org:5000\",\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/config.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { NativeAudio } from '@ionic-native/native-audio';\n\ndeclare var apiRTC: any\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n  showCall: boolean;\n  showHangup: boolean;\n  showAnswer: boolean;\n  showReject: boolean;\n  showStatus: boolean;\n  showRemoteVideo: boolean = true;\n  showMyVideo: boolean = true;\n\n  session;\n  webRTCClient;\n  incomingCallId = 0;\n  myCallId;\n  status;\n  calleeId;\n\n  constructor(public navCtrl: NavController,private nativeAudio: NativeAudio) {\n    this.InitializeApiRTC();\n    this.nativeAudio.preloadComplex('uniqueI1', 'assets/tone.mp3', 1, 1, 0).then((succ)=>{\n      console.log(\"suu\",succ)\n    }, (err)=>{\n      console.log(\"err\",err)\n    });\n\n  }\n\n  InitializeApiRTC() {\n    //apiRTC initialization\n    apiRTC.init({\n      apiKey: \"819abef1fde1c833e0601ec6dd4a8226\",\n      // apiCCId : \"2\",\n      onReady: (e) => {\n        this.sessionReadyHandler(e);\n      }\n    });\n  }\n\n  sessionReadyHandler(e) {\n    this.myCallId = apiRTC.session.apiCCId;\n    this.InitializeControls();\n    this.AddEventListeners();\n    this.InitializeWebRTCClient();\n  }\n\n  InitializeWebRTCClient() {\n    this.webRTCClient = apiRTC.session.createWebRTCClient({\n      status: \"status\" //Optionnal\n    });\n    /*    this.webRTCClient.setAllowMultipleCalls(true);\n        this.webRTCClient.setVideoBandwidth(300);\n        this.webRTCClient.setUserAcceptOnIncomingCall(true);*/\n  }\n\n  InitializeControls() {\n    this.showCall = true;\n    this.showAnswer = false;\n    this.showHangup = false;\n    this.showReject = false;\n  }\n\n  InitializeControlsForIncomingCall() {\n    this.showCall = false;\n    this.showAnswer = true;\n    this.showReject = true;\n    this.showHangup = true;\n    this.nativeAudio.loop('uniqueI1').then((succ)=>{\n      console.log(\"succ\",succ)\n    }, (err)=>{\n      console.log(\"err\",err)\n    });\n\n  }\n\n  InitializeControlsForHangup() {\n    this.showCall = true;\n    this.showAnswer = false;\n    this.showReject = false;\n    this.showHangup = false;\n  }\n\n  UpdateControlsOnAnswer() {\n    this.showAnswer = false;\n    this.showReject = false;\n    this.showHangup = true;\n    this.showCall = false;\n  }\n\n  UpdateControlsOnReject() {\n    this.showAnswer = false;\n    this.showReject = false;\n    this.showHangup = false;\n    this.showCall = true;\n  }\n\n  RemoveMediaElements(callId) {\n    this.webRTCClient.removeElementFromDiv('mini', 'miniElt-' + callId);\n    this.webRTCClient.removeElementFromDiv('remote', 'remoteElt-' + callId);\n  }\n\n  AddStreamInDiv(stream, callType, divId, mediaEltId, style, muted) {\n    let mediaElt = null;\n    let divElement = null;\n\n    if (callType === 'audio') {\n      mediaElt = document.createElement(\"audio\");\n    } else {\n      mediaElt = document.createElement(\"video\");\n    }\n\n    mediaElt.id = mediaEltId;\n    mediaElt.autoplay = true;\n    mediaElt.muted = muted;\n    mediaElt.style.width = style.width;\n    mediaElt.style.height = style.height;\n\n    divElement = document.getElementById(divId);\n    divElement.appendChild(mediaElt);\n\n    this.webRTCClient.attachMediaStream(mediaElt, stream);\n  }\n\n  AddEventListeners() {\n    apiRTC.addEventListener(\"userMediaSuccess\", (e) => {\n      this.showStatus = true;\n      this.showMyVideo = true;\n\n      this.webRTCClient.addStreamInDiv(e.detail.stream, e.detail.callType, \"mini\", 'miniElt-' + e.detail.callId, {\n        width: \"128px\",\n        height: \"96px\"\n      }, true);\n\n    });\n\n    apiRTC.addEventListener(\"userMediaError\", (e) => {\n      this.InitializeControlsForHangup();\n\n      this.status = this.status + \"<br/> The following error has occurred <br/> \" + e;\n    });\n\n    apiRTC.addEventListener(\"incomingCall\", (e) => {\n      this.InitializeControlsForIncomingCall();\n      this.incomingCallId = e.detail.callId;\n    });\n\n    apiRTC.addEventListener(\"hangup\", (e) => {\n      if (e.detail.lastEstablishedCall === true) {\n        this.InitializeControlsForHangup();\n      }\n      this.status = this.status + \"<br/> The call has been hunged up due to the following reasons <br/> \" + e.detail.reason;\n      this.RemoveMediaElements(e.detail.callId);\n    });\n\n    apiRTC.addEventListener(\"remoteStreamAdded\", (e) => {\n      this.webRTCClient.addStreamInDiv(e.detail.stream, e.detail.callType, \"remote\", 'remoteElt-' + e.detail.callId, {\n        width: \"300px\",\n        height: \"225px\"\n      }, false);\n    });\n\n    apiRTC.addEventListener(\"webRTCClientCreated\", (e) => {\n      console.log(\"webRTC Client Created\");\n      this.webRTCClient.setAllowMultipleCalls(true);\n      this.webRTCClient.setVideoBandwidth(300);\n      this.webRTCClient.setUserAcceptOnIncomingCall(true);\n\n      /*      this.InitializeControls();\n            this.AddEventListeners();*/\n\n      //this.MakeCall(\"729278\");\n    });\n\n  }\n\n  MakeCall(calleeId) {\n    var callId = this.webRTCClient.call(calleeId);\n    if (callId != null) {\n      this.incomingCallId = callId;\n      this.showHangup = true;\n    }\n  }\n\n  HangUp() {\n    this.webRTCClient.hangUp(this.incomingCallId);\n  }\n\n  AnswerCall(incomingCallId) {\n    this.webRTCClient.acceptCall(incomingCallId);\n    this.nativeAudio.stop('uniqueI1').then(()=>{},()=>{});\n\n    this.UpdateControlsOnAnswer();\n  }\n\n  RejectCall(incomingCallId) {\n    this.webRTCClient.refuseCall(incomingCallId);\n    this.UpdateControlsOnReject();\n    this.RemoveMediaElements(incomingCallId);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","export const FIREBASE_CREDENTIALS = {\n  apiKey: \"AIzaSyA-ghCvFKtmWslyfdv7tfijtgfrSTkV_ZA\",\n  authDomain: \"cozeserver.firebaseapp.com\",\n  databaseURL: \"https://cozeserver.firebaseio.com\",\n  projectId: \"cozeserver\",\n  storageBucket: \"\",\n  messagingSenderId: \"1048041411921\"\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/firebase.credentials.ts","import { Component } from '@angular/core';\nimport { CozePage } from '../coze/coze';\nimport { FriendsPage } from '../friends/friends';\nimport { SettingsPage } from '../settings/settings';\n\n@Component({\n  selector: 'TabsPage',\n  templateUrl: 'tabs.html'\n})\nexport class TabsPage {\n\n  tab1Root = CozePage;\n  tab2Root = FriendsPage;\n  tab3Root = SettingsPage;\n\n  constructor() {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { Injectable } from '@angular/core';\nimport { AngularFireDatabase, AngularFireList, AngularFireObject } from 'angularfire2/database';\n\n/*\n  Generated class for the FirebaseProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class FirebaseProvider {\n\n  constructor(private afd: AngularFireDatabase) {\n    console.log('Hello FirebaseProvider Provider');\n  }\n\n  getUserData(userId) {\n    var itemRef : AngularFireObject<any>;\n    itemRef = this.afd.object(\"users/\" + userId);\n    return itemRef;\n    //return this.afd.object('users/' + userId);\n  }\n\n  addUser(userId, email, firstName, lastName, major) {\n    var newUser = {\"email\":email, \"firstName\":firstName,\n      \"lastName\":lastName, \"major\":major, \"friends\":{}};\n\n    this.afd.database.ref(\"users/\" + userId)\n      .set(newUser);\n  }\n\n  // Using getUserData for now - this is a placeholder for later implementation\n  getUserFriends(userId) {\n    var itemRef : AngularFireObject<any>;\n    itemRef = this.afd.object(\"users/\" + userId + \"/friends\");\n    return itemRef;\n  }\n\n  addFriend(userId, friendId) {\n    // TODO: Don't add friend until partner agrees!\n    var newFriend = {friendId:{\"dateAdded\":new Date()}}\n\n    this.afd.database.ref(\"users/\" + userId + \"/friends\")\n      .push(newFriend);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/firebase/firebase.ts"],"sourceRoot":""}